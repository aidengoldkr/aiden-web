<!doctype html>

<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Text Toggle (a,b,c)</title>
  <style>
    :root{
      --text: #111827;
      --muted: #6b7280;
      --radius: 6px;
      --transition: 220ms cubic-bezier(.2,.9,.3,1);
    }

/* 전체 배경 제거 — 기본 흰색(브라우저 기본) 사용 */
body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  color: var(--text);
  padding: 20px;
  margin: 0;
}

/* 토글 컨테이너는 배경/그라데이션 없음 (투명) */
.toggle {
  max-width: 720px;
  margin: 8px 0;
  border-radius: var(--radius);
}

/* 클릭 가능한 텍스트(헤더) — 단순 텍스트 스타일 */
.toggle__summary {
  display: block;
  cursor: pointer;
  user-select: none;
  padding: 6px 0;
  font-weight: 600;
  font-size: 16px;
  color: var(--text);
}

.toggle__meta {
  font-size: 13px;
  color: var(--muted);
  margin-top: 4px;
}

/* 내용 영역: max-height 기법으로 슬라이드 */
.toggle__content-wrap{
  overflow: hidden;
  transition: max-height var(--transition), opacity var(--transition);
  opacity: 0;
  max-height: 0;
}

.toggle[aria-expanded="true"] .toggle__content-wrap{
  opacity: 1;
}

.toggle__content{
  padding: 6px 2px 0 2px;
  line-height: 1.5;
  font-size: 15px;
}

/* 간단한 구분선 (선택사항) */
.divider { height: 1px; background: transparent; margin: 6px 0; }

  </style>
</head>
<body>

  <!-- Very simple toggle: 클릭하면 아래 a,b,c 텍스트가 나타남 -->

  <div class="toggle" aria-expanded="false">
    <div class="toggle__summary">토글 텍스트 — 클릭하면 아래에 a, b, c 가 나타납니다</div>
    <div class="toggle__content-wrap" aria-hidden="true">
      <div class="toggle__content">
        <div>a. 첫 번째 줄</div>
        <div>b. 두 번째 줄</div>
        <div>c. 세 번째 줄</div>
      </div>
    </div>
  </div>

  <script>
    // 단순 토글 동작: 클릭으로만 제어, 키보드 조작(Enter/Space) 제거
    document.querySelectorAll('.toggle').forEach(toggle => {
      const btn = toggle.querySelector('.toggle__summary');
      const contentWrap = toggle.querySelector('.toggle__content-wrap');

      function setMaxHeightOpen() {
        // 일단 max-height none으로 두고 실제 높이를 읽어 설정
        contentWrap.style.maxHeight = 'none';
        const h = contentWrap.scrollHeight;
        contentWrap.style.maxHeight = h + 'px';
      }

      function open() {
        toggle.setAttribute('aria-expanded', 'true');
        contentWrap.setAttribute('aria-hidden', 'false');
        setMaxHeightOpen();
      }

      function close() {
        toggle.setAttribute('aria-expanded', 'false');
        contentWrap.setAttribute('aria-hidden', 'true');
        // 현재 높이로 고정 후 0으로 줄여 슬라이드 효과
        contentWrap.style.maxHeight = contentWrap.scrollHeight + 'px';
        void contentWrap.offsetHeight; // 강제 리플로우
        contentWrap.style.maxHeight = '0px';
      }

      function toggleFn() {
        const expanded = toggle.getAttribute('aria-expanded') === 'true';
        if (expanded) close();
        else open();
      }

      // 오직 클릭 이벤트만 바인드 (키보드 리스너는 제거)
      btn.addEventListener('click', toggleFn);

      // 초기 상태 설정 (HTML에서 aria-expanded="true"로 열리게 할 수 있음)
      if (toggle.getAttribute('aria-expanded') === 'true') {
        contentWrap.style.maxHeight = contentWrap.scrollHeight + 'px';
        contentWrap.style.opacity = 1;
        contentWrap.setAttribute('aria-hidden', 'false');
      } else {
        contentWrap.style.maxHeight = '0px';
        contentWrap.style.opacity = 0;
        contentWrap.setAttribute('aria-hidden', 'true');
      }

      // 내용이 동적으로 바뀌면 높이 재계산(예: 이미지 로드 등) — ResizeObserver 유지
      const ro = new ResizeObserver(() => {
        if (toggle.getAttribute('aria-expanded') === 'true') {
          setMaxHeightOpen();
        }
      });
      ro.observe(contentWrap);
    });
  </script>

</body>
</html>
